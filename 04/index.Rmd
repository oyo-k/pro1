---
title: "第4回課題" 
title-prefix: "プログラミング基礎" 
pagetitle: "プログラミング基礎"  
date: "`r Sys.Date()`"
output: 
  # ショートカットは ctrl + com + c でコメント
  html_document:
    # 全体的な見た目 
    theme:
      version: 4
      bootswatch: simplex # 好みに合わせて変更化
    number_sections: TRUE # 番号付与
    # 不便に感じないため
    toc: TRUE # 目次表示
    toc_depth: 3 # 見出しレベル3まで表示
    toc_float: TRUE # 目次の自動追尾
    self_contained: TRUE # htmlファイル単独でも表示可能に # hide
    # コードの見た目
    highlight: tango # 好みに合わせて変更化
    # その他
    md_extensions: "+ignore_line_breaks" 
---

```{r setup, include=FALSE}
library(reticulate)
use_python("/Users/oyokuratomo/opt/anaconda3/envs/native/bin")
```


# 課題

-   発展課題6.5のプログラムを完成させなさい。
-   完成させた後、そのプログラムを200字から400字程度で解説しなさい。

# 解答例
```{python}
# Numpyライブラリを np という名前で利用する
import numpy as np 

# numpy の配列を作成し、それを d という変数に代入する
# つまり、[10,11,12,13,14] を dという名前で扱う
# 10はd[0], 11はd[1]... のように名前がついている
d = np.array([10,11,12,13,14])

print('交換前:',d) # 作成した配列を確認のため出力する

tmp = d[0] # 配列の最初の要素（10）を一時変数 tmp に保存する
print('交換1回目:',d) # まだ何も交換されていないが、配列が変わっていないことを確認するため出力する

# 要素番号0の要素（10）を、要素番号2の要素（12）で置き換える
d[0] = d[2]
print('交換2回目:',d)

d[2] = d[1] # 要素番号2の要素（12）を、要素番号1の要素（11）で置き換える
print('交換3回目:',d)

d[1] = d[3] # 要素番号1の要素（11）を、要素番号3の要素（13）で置き換える
print('交換4回目:',d)

d[3] = d[4] # 要素番号3の要素（13）を、要素番号4の要素（14）で置き換える
print('交換5回目:',d)

# 要素番号4の要素（14）を、tmp（10）で置き換える
d[4] = tmp

# すべての要素の交換が完了した配列を出力する
print('交換終了:',d)
```

## 課題の意図

```{python}
# 発展課題 6.5
d = np.array([5,3,1,2,4])
print('交換前:',d)
tmp = d[0]
d[0] = d[2]
d[2] = d[1]
d[1] = d[3]
d[3] = d[4]
d[4] = tmp
print('交換終了:',d)
```

## 課題の意図とは異なること

```{python}
d = np.array([5,3,1,2,4])
v = np.array([1,2,3,4,5]) # 人間が自分で入れ替えたものを用意している
d = v
print(d)
```



# 誤回答

## 出力は間違いではないが...

```
d[0],[1],d[2],d[3],d[4] = d[2],d[3],d[1],d[4],d[0]
```

上記の例は、Python特有の入れ替え方法である。
プログラム的には間違っていない。
しかし、交換アルゴリズムの説明が不足している。何が、どのように入れ替わったのかの説明が必要
## 誤回答ではないが無駄が多い

```         
x = d[0]
d[0] = d[2]
y = d[1]
d[1] = d[3]
```

## 足し算している
```
d[0] = d[0] + 2
```

## 一時的な変数の不足（2）

## 配列そのものの書き換えになっている
- 要素の入れ替えになっていない。
- 2行目の配列をdという名前に書き換えた、という処理になっている
- 1行目の配列へのアクセス情報は失われている
```
d = np.arange(10,15,1)
x = np.array([12, 13, 11, 14, 10])
d = x 
```

配列同士を交換するならば、下記のようにする必要がある
```
d = np.arange(10,15,1)
x = np.array([12, 13, 11, 14, 10])
tmp = d
d = x 
x = tmp
```


## 交換アルゴリズムを用いていない
以下では、新たに代入しているだけである

```
d[0]=12
d[1]=13
d[2]=11
d[3]=14
d[4]=10
```


## 用語の誤解

-   要素と要素番号
    -   配列が [7, 8, 9] と存在する場合

    -   要素番号0の要素は7である。

    -   要素0と要素1が入れ替わるは、7と8の交換を意味しない

        -   [1,2,0,3]という配列があるとき
        -   要素番号0と要素番号2が入れ替わることをと誤解
        
## 出力の工夫

```
print(d[2:4],d[[1,4]],d[0])
```
